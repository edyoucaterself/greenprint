{% extends "base.html" %}
{% load bootstrap3 %}
{% comment %}
Home index template
Author: Matt Agresta
Created on: 9/4/2016
Will hold form to display budget, contain buttons to add item,
remove item, edit item

{% endcomment %}
{% block title %}
<title>PayPlanner Budget</title>
{% endblock %}
{% block content %}
<div class="container-fluid">
  <form action="{% url 'config' %}" method="post">
    {% csrf_token %}
 {% if lineitems %}
 <div class="row">
  <div class="col s12">
   <div class="card-panel">
   <table class="highlight">
     <thead>
       <tr>
        <th></th>
        <th></th>
        <th><input type="submit" name="config_btn" value="Add Income" class="btn btn-primary"/></th>
        <th><input type="submit" name="config_btn" value="Add Expense" class="btn btn-primary"/></th>
        <th></th>
       </tr>
     </thead>
     <tbody>
      {% for item in lineitems %}
       <tr title="{{ item.itemnote }}">
       {% if item.isincome %}
        <td>{{ item.itemdate }}</td>
        <td><a href="{% url 'edit' item.itemid %}" title="Edit Item">{{ item.name }}</a></td>
        <td>{{ item.amount }}</td>
        <td></td>
        <td>{{ item.running_total }}</td>
       {% else %}
        <td>{{ item.itemdate }}</td>
        <td><a href="{% url 'edit' item.itemid %}" title="Edit Item">{{ item.name }}</a></td>
        <td></td>
        <td>{{ item.amount }}</td>
        <td>{{ item.running_total }}</td>       
       {% endif %}
      </tr>
      {% endfor %}
     <tbody>
   </table>
  </div>
  </div>
 </div>
 {% else %}
 <div class="row">
  <div class="col s12 m6 push-m3">
      <h3>Welcome to PayPlanner! A simplistic budget tool.</h3>
      <p>Please use at your own risk, and avoid inputing account numbers or any other sensitive information.</p>
      <p>It is recommended that you visit <a title="Manage Settings" href="{% url 'manage' %}">Account Settings</a> and configure spending categories before inputing your budget.</p>
  </div>
 </div>
 <div class="center row">
    <div class="col s6 m4 l2 push-s3 push-m4 push-l5"><div class="btn-group-vertical btn-group-lg center">
      <input type="submit" name="config_btn" value="Add Income" class="btn btn-primary"/>
      <input type="submit" name="config_btn" value="Add Expense" class="btn btn-primary"/>
    </div>
  </div>
 {% endif %}
  </form>
</div>
{% endblock %}
{% block footer %}
{{ footer }}
{% endblock %}

